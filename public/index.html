<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dama - Master of Strategy</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="dama.css" />
</head>

<body class="lobby-page">
  <div class="overlay">

    <div class="button-group">
      <a href="mode.html" class="btn">Start The Game</a>
    </div>

    <div class="auth-links">
      <a href="login.html" class="auth-btn">Giriş Yap</a>
      <a href="register.html" class="auth-btn">Kayıt Ol</a>
    </div>

    <div class="corner-links">
      <a href="howtoplay.html">❓ Nasıl Oynanır?</a>
      <a href="report.html">🐞 Hata Bildir</a>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const token = localStorage.getItem("token");
      const username = localStorage.getItem("username");

      if (token && username) {
        const authLinks = document.querySelector(".auth-links");
        if (authLinks) authLinks.style.display = "none";

        const userBox = document.createElement("div");
        userBox.style.position = "absolute";
        userBox.style.top = "20px";
        userBox.style.right = "20px";
        userBox.style.display = "flex";
        userBox.style.alignItems = "center";
        userBox.style.gap = "10px";
        userBox.style.fontFamily = "'Orbitron', sans-serif";
        userBox.style.color = "#fff";
        userBox.style.zIndex = "999";
        userBox.style.backgroundColor = "rgba(0,0,0,0.5)";
        userBox.style.padding = "6px 10px";
        userBox.style.borderRadius = "10px";

        const avatar = document.createElement("img");
        avatar.src = "images/default-avatar.png";
        avatar.alt = "Profil";
        avatar.style.width = "40px";
        avatar.style.height = "40px";
        avatar.style.borderRadius = "50%";
        avatar.style.border = "2px solid white";
        avatar.style.cursor = "pointer";
        avatar.onclick = () => {
          window.location.href = "profile.html";
        };

        const nameSpan = document.createElement("span");
        nameSpan.textContent = username;

        const logoutBtn = document.createElement("button");
        logoutBtn.textContent = "Çıkış";
        logoutBtn.style.padding = "5px 10px";
        logoutBtn.style.border = "none";
        logoutBtn.style.borderRadius = "8px";
        logoutBtn.style.background = "#c00";
        logoutBtn.style.color = "#fff";
        logoutBtn.style.cursor = "pointer";
        logoutBtn.onclick = () => {
          localStorage.clear();
          window.location.href = "index.html";
        };

        userBox.appendChild(avatar);
        userBox.appendChild(nameSpan);
        userBox.appendChild(logoutBtn);
        document.body.appendChild(userBox);
      }
    });
  </script>
</body>
</html>
